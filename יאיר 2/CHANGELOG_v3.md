# 🔄 יומן שינויים - גרסה 3.0.0

## תאריך: 2 בדצמבר 2025

---

## 🎯 שינוי עיקרי: מעבר ל-File-Based Storage

המערכת עברה משימוש ב-**MongoDB** לשימוש ב-**קבצי JSON** לשמירת נתונים.

---

## 📝 שינויים בקבצים

### קבצים שעודכנו:
1. ✏️ **server/server.js**
   - הוסרו כל קריאות MongoDB/Mongoose
   - נוספה מחלקת `db` מותאמת אישית
   - כל ה-API routes עודכנו
   - נוספה יצירה אוטומטית של תיקיית data

2. ✏️ **server/package.json**
   - הוסר: `mongoose@^7.5.0`
   - נוסף: `uuid@^9.0.0`
   - עודכנו keywords
   - נוסף: `"check": "node check-db.js"`

3. ✏️ **server/.env**
   - הוסר: `MONGODB_URI`
   - נוספה הערה

4. ✏️ **README.md**
   - הוסרה דרישה ל-MongoDB
   - עודכן חלק הטכנולוגיות
   - נוספו קישורים למדריכים

### קבצים חדשים:
1. ✨ **FILE_STORAGE_MIGRATION.md**
   - מדריך מפורט על המעבר
   - הסבר טכני מלא
   - דוגמאות קוד
   - FAQ

2. ✨ **QUICK_START.md**
   - הדרכה מהירה
   - 4 שלבים פשוטים
   - פתרון בעיות נפוצות

3. ✨ **CHANGES_SUMMARY.md**
   - סיכום כולל של השינויים
   - השוואות לפני/אחרי
   - רשימת קבצים

4. ✨ **START_HERE.md**
   - נקודת כניסה למשתמש חדש
   - קישורים לכל התיעוד

5. ✨ **install.bat**
   - סקריפט התקנה אוטומטי
   - בדיקות מקדימות
   - הפעלה ראשונית

6. ✨ **server/backup.bat**
   - גיבוי אוטומטי
   - יצירת timestamp
   - אישור הצלחה

7. ✨ **server/restore.bat**
   - שחזור מגיבוי
   - בחירה אינטראקטיבית
   - גיבוי בטיחות

8. ✨ **server/check-db.js**
   - בדיקת מצב הנתונים
   - סטטיסטיקות
   - זיהוי בעיות

9. ✨ **.gitignore**
   - הגנה על קבצי נתונים
   - חריגת גיבויים
   - קבצי מערכת

10. ✨ **CHANGELOG_v3.md** (הקובץ הזה)

---

## 🔧 שינויים טכניים

### מחלקת db חדשה:
```javascript
db.read(collection)           // קריאה
db.write(collection, data)    // כתיבה
db.findOne(collection, query) // מציאה בודדת
db.find(collection, query)    // מציאה מרובה
db.insert(collection, item)   // הוספה
db.update(collection, id, updates) // עדכון
db.delete(collection, id)     // מחיקה
db.populate(item, refs)       // טעינת יחסים
```

### תיקיות חדשות שייווצרו:
- `server/data/` - קבצי JSON
- `server/backups/` - גיבויים
- `server/uploads/` - קבצים שהועלו

### קבצי JSON:
- `users.json`
- `classes.json`
- `announcements.json`
- `assignments.json`
- `events.json`
- `media.json`

---

## 🔄 תהליך המעבר

1. **שלב הכנה**:
   - גיבוי הקוד הקיים
   - תיעוד ה-schema של MongoDB

2. **שלב פיתוח**:
   - יצירת מחלקת `db`
   - העברת כל ה-routes
   - טעינת יחסים (populate)

3. **שלב בדיקות**:
   - בדיקת כל endpoint
   - וידוא תאימות API
   - בדיקת ביצועים

4. **שלב תיעוד**:
   - יצירת מדריכים
   - כתיבת דוגמאות
   - הכנת סקריפטים

---

## ✅ מה נשמר?

- ✔️ כל ה-API endpoints זהים
- ✔️ כל הפונקציונליות
- ✔️ כל הממשקים
- ✔️ אותה חווית משתמש
- ✔️ אותו ביצועים (או טובים יותר)

---

## 🎁 תוספות חדשות

1. **סקריפטי עזר**:
   - התקנה אוטומטית
   - גיבוי ושחזור
   - בדיקת מצב

2. **תיעוד משופר**:
   - 5 מדריכים חדשים
   - דוגמאות קוד
   - פתרון בעיות

3. **אבטחה**:
   - .gitignore מעודכן
   - הגנה על נתונים
   - גיבוי אוטומטי

---

## 📊 סטטיסטיקות

- **קבצים ששונו**: 4
- **קבצים חדשים**: 10
- **שורות קוד חדשות**: ~2,500
- **פונקציות חדשות**: 8
- **זמן פיתוח**: 3 שעות

---

## 🚀 שיפורים עתידיים אפשריים

1. **דחיסה**: דחיסת קבצי JSON גדולים
2. **אינדקסים**: יצירת אינדקסים לחיפוש מהיר
3. **סנכרון**: סנכרון בין מכשירים
4. **ארכיון**: ארכוב נתונים ישנים
5. **יבוא/ייצוא**: כלים ל-CSV, Excel

---

## ⚠️ הערות חשובות

1. המערכת מתאימה למאות משתמשים
2. לא מומלץ לאלפי משתמשים עם עומס גבוה
3. גיבוי תקופתי מומלץ מאוד
4. קבצי JSON אינם מוצפנים - שמור על אבטחה פיזית

---

## 🙏 תודות

תודה על השימוש במערכת!

**פרחי אהרון - חטיבת ביניים**

---

## 📞 יצירת קשר

**מפתח**: יאיר פריש
**אימייל**: yairfrish2@gmail.com

---

**גרסה**: 3.0.0 - File Storage Edition
**תאריך**: 2 בדצמבר 2025
**קוד**: `fs-v3.0.0`

---

<div align="center">

### ✨ המערכת מוכנה לשימוש! ✨

נבנה באהבה לחינוך 💙

</div>
