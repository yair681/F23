# פרחי אהרון - מערכת ניהול חטיבה 🎓

מערכת ניהול לימודים מתקדמת למורים, תלמידים ומנהלי מערכת.

---

## 🌟 תכונות עיקריות

### 📢 הודעות ועדכונים
- הודעות כלליות לכל בית הספר
- הודעות ספציפיות לכיתה
- ממשק ידידותי למשתמש

### 📚 ניהול כיתות
- יצירה וניהול כיתות
- שיוך מורים לכיתות
- **חדש**: שיוך ידני של תלמידים לכיתות
- **חדש**: הסרת תלמידים מכיתות
- צפייה ברשימת תלמידים

### 📝 מטלות ומשימות
- יצירת משימות לכיתות
- הגשת עבודות עם קבצים מצורפים
- מערכת ציונים
- צפייה בהגשות תלמידים
- עריכת משימות קיימות

### 📅 לוח אירועים
- ניהול אירועי בית הספר
- תצוגת לוח שנה
- התראות על אירועים קרובים

### 🎬 גלריית מדיה
- העלאת תמונות וסרטונים
- העלאת קבצים כלליים (PDF, Word, וכו')
- גלריה מסודרת לפי תאריך

### 👥 ניהול משתמשים
- יצירת משתמשים חדשים
- ניהול הרשאות
- עריכת פרטי משתמש
- **חדש**: משתמשים חדשים נוצרים ללא שיוך אוטומטי לכיתות

---

## 🚀 התחלה מהירה

### דרישות מקדימות
- Node.js (v14 ומעלה)
- npm או yarn
- **אין צורך ב-MongoDB!** הנתונים נשמרים בקבצי JSON

### התקנה

1. **שכפול הפרויקט**
```bash
git clone <repository-url>
cd יאיר
```

2. **התקנת תלויות**
```bash
cd server
npm install
```

3. **הגדרת משתני סביבה**
צור קובץ `.env` בתיקייה `server`:
```env
JWT_SECRET=your_secret_key
PORT=10000
```

> 💡 **שינוי חשוב**: המערכת עברה לשמירת נתונים בקבצי JSON במקום MongoDB!
> קרא את [FILE_STORAGE_MIGRATION.md](FILE_STORAGE_MIGRATION.md) לפרטים נוספים.

4. **הרצת השרת**
```bash
npm start
```

5. **גישה למערכת**
פתח דפדפן וגש ל: `http://localhost:10000`

---

## 🔐 משתמש ברירת מחדל

**מנהל מערכת ראשי:**
- אימייל: `yairfrish2@gmail.com`
- סיסמה: `yair12345`

> ⚠️ **חשוב**: שנה את הסיסמה מיד לאחר ההתחברות הראשונה!

---

## 📖 תיעוד

- 📄 [מדריך שינויים מפורט](CHANGES.md) - תיעוד טכני מלא
- 📖 [מדריך משתמש](USER_GUIDE.md) - הוראות למשתמשים
- 🔧 [סיכום טכני](TECHNICAL_SUMMARY.md) - מידע למפתחים

---

## 🆕 עדכון אחרון (גרסה 2.0.0)

### שינויים עיקריים:

✨ **ביטול שיוך אוטומטי**
- משתמשים חדשים נוצרים ללא כיתות
- כיתות חדשות נוצרות ללא תלמידים
- מורים שולטים בשיוך התלמידים

✨ **ניהול כיתות משופר**
- הוספת תלמידים לכיתה
- הסרת תלמידים מכיתה
- ממשק ניהול אינטואיטיבי

✨ **הרשאות מורים**
- מורים יכולים לערוך את הכיתות שלהם
- גישה לרשימת תלמידים להוספה
- שליטה מלאה על הכיתות

---

## 🎓 תפקידים והרשאות

### 👨‍🎓 תלמיד
- צפייה בהודעות ואירועים
- צפייה במשימות של הכיתות שלו
- הגשת עבודות
- צפייה בציונים

### 👨‍🏫 מורה
- **כל הרשאות התלמיד** +
- יצירת וניהול כיתות
- שיוך והסרת תלמידים
- יצירת משימות והודעות
- מתן ציונים
- העלאת מדיה

### 👨‍💼 מנהל מערכת
- **כל הרשאות המורה** +
- ניהול משתמשים (יצירה, עריכה, מחיקה)
- גישה לכל הכיתות
- מחיקת מדיה
- הרשאות מלאות במערכת

---

## 🛠️ מבנה הפרויקט

```
יאיר/
├── client/                 # קוד צד לקוח
│   ├── css/
│   │   └── style.css      # עיצוב המערכת
│   ├── js/
│   │   ├── app.js         # אתחול אפליקציה
│   │   ├── auth.js        # ניהול אימות
│   │   ├── database.js    # תקשורת עם API
│   │   └── ui.js          # ניהול ממשק משתמש
│   └── index.html         # עמוד ראשי
├── server/                # קוד צד שרת
│   ├── server.js         # שרת Express + MongoDB
│   ├── setup-admin.js    # סקריפט יצירת אדמין
│   └── package.json
├── CHANGES.md            # תיעוד שינויים
├── USER_GUIDE.md         # מדריך משתמש
├── TECHNICAL_SUMMARY.md  # סיכום טכני
└── README.md            # זה (תיאור הפרויקט)
```

---

## 🔧 טכנולוגיות

### Backend
- Node.js
- Express.js
- **File System (JSON)** - במקום MongoDB
- JWT Authentication
- Bcrypt
- Multer (העלאת קבצים)
- UUID (יצירת ID ייחודי)

### Frontend
- HTML5
- CSS3 (Flexbox, Grid)
- Vanilla JavaScript
- Font Awesome Icons
- Responsive Design

---

## 🌐 API Endpoints

### אימות
- `POST /api/register` - הרשמת משתמש
- `POST /api/login` - התחברות
- `GET /api/validate-token` - אימות טוקן
- `POST /api/change-password` - שינוי סיסמה

### משתמשים
- `GET /api/users` - רשימת משתמשים (מורים + אדמין)
- `POST /api/users` - יצירת משתמש (אדמין)
- `PUT /api/users/:id` - עדכון משתמש (אדמין)
- `DELETE /api/users/:id` - מחיקת משתמש (אדמין)

### כיתות
- `GET /api/classes` - רשימת כיתות
- `POST /api/classes` - יצירת כיתה (מורה)
- `PUT /api/classes/:id` - עדכון כיתה (מורה/אדמין)
- `DELETE /api/classes/:id` - מחיקת כיתה (מורה/אדמין)

### הודעות
- `GET /api/announcements` - רשימת הודעות
- `POST /api/announcements` - יצירת הודעה (מורה)
- `DELETE /api/announcements/:id` - מחיקת הודעה (מורה)

### משימות
- `GET /api/assignments` - רשימת משימות
- `POST /api/assignments` - יצירת משימה (מורה)
- `PUT /api/assignments/:id` - עדכון משימה (מורה)
- `DELETE /api/assignments/:id` - מחיקת משימה (מורה)
- `POST /api/assignments/submit` - הגשת משימה (תלמיד)
- `GET /api/assignments/:id/submissions` - הגשות (מורה)
- `POST /api/assignments/grade` - מתן ציון (מורה)

### אירועים
- `GET /api/events` - רשימת אירועים
- `POST /api/events` - יצירת אירוע (מורה)
- `DELETE /api/events/:id` - מחיקת אירוע (מורה)

### מדיה
- `GET /api/media` - רשימת מדיה
- `POST /api/media` - העלאת מדיה (מורה)
- `DELETE /api/media/:id` - מחיקת מדיה (אדמין)

---

## 🧪 בדיקות

### בדיקות ידניות
1. יצירת משתמש חדש
2. יצירת כיתה חדשה
3. הוספת תלמיד לכיתה
4. הסרת תלמיד מכיתה
5. יצירת משימה
6. הגשת עבודה
7. מתן ציון

---

## 🐛 דיווח על באגים

מצאת באג? אנא צור issue עם:
1. תיאור הבעיה
2. שלבים לשחזור
3. תוצאה צפויה לעומת תוצאה בפועל
4. צילומי מסך (אם רלוונטי)

---

## 💡 תרומה לפרויקט

1. Fork the project
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## 📜 רישיון

הפרויקט הזה הוא קנייני וכל הזכויות שמורות ל**חטיבת פרחי אהרון**.

---

## 📧 יצירת קשר

**מפתח**: יאיר פריש
**אימייל**: yairfrish2@gmail.com
**אתר החטיבה**: [https://68fdda4e0b7f0.site123.me/](https://68fdda4e0b7f0.site123.me/)

---

## 🎉 תודות

תודה למורים, התלמידים וההורים של חטיבת פרחי אהרון על המשוב והתמיכה!

---

**גרסה**: 2.0.0  
**תאריך עדכון**: 23 בנובמבר 2025  
**סטטוס**: ✅ פעיל ומעודכן

---

<div align="center">

### 🌟 נבנה באהבה לחינוך 🌟

**פרחי אהרון - חטיבת ביניים**

</div>
